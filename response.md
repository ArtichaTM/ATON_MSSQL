# Примечания
Используется сайт [sqliteonline.com](https://sqliteonline.com/), БД MS SQL 0.15.1 beta

# Задача 1
Решение:
|                               |         T1        | T2            | T3            | T4                 |
| ----------------------------- | ----------------- | ------------- | ------------- | ------------------ |
| Процесс 1                     | Begin Transaction |    0 --> 1    |               | Commit Transaction |
| Процесс 2 (Read commited)     |                   |               |        0      |                    |
| Процесс 3 (Read uncommited)   |                   |               |        1      |                    |

[Источник](https://habr.com/ru/articles/469415/), хотя задачу можно и так решить по определениям "commited" и "uncommited". В программирование _всегда_ говорящие ключевые слова и термины 

# Задача 2
Используется сайт [sqliteonline.com](https://sqliteonline.com/), БД MS SQL 0.15.1 beta. На данном сайте numeric выводится как число с плавающей точкой, имеющий всегда нули после точки в размере 8 штук. Вместо "15.00000000" будет писаться "15.000" (сокращение 5 нулей)
<details>
  <summary>1. Создание таблицы</summary>

  ```SQL
  CREATE TABLE dbo.tblClosePrice (
    -- Дата на которую берётся цена
    PriceDate DATE NOT NULL
    -- ИД актива
    , PriceAssetId INT NOT NULL
    -- Цена закрытия
    , ClosePrice NUMERIC (19, 8) NOT NULL
    , CONSTRAINT PK_tblClosePrice PRIMARY KEY CLUSTERED (PriceAssetId, PriceDate)
  );
  ```
</details>

<details>
  <summary>2. Вставка некоторых данных (в целях тестирования)</summary>

  ```SQL
  INSERT
	INTO dbo.tblClosePrice
    VALUES
    	  ('20210618 10:54:29 AM', 1, 15) 
        , ('20210719 11:14:03 AM', 5, 16)
        , ('20210728 9:34:04 PM', 5, 17)
        , ('20220618 10:04:19 AM', 1, 18)
  ```
</details>

<details>
  <summary>3. Вывод внесённых данных</summary>

  ```SQL
  SELECT * FROM dbo.tblClosePrice
  ```
  **Вывод:**
  | PriceDate  | PriceAssetId | ClosePrice |
  | ---------- | ------------ | ---------- |
  | 2021-06-18 |       1      |   15.000   |
  | 2022-06-18 |       1      |   18.000   |
  | 2021-07-19 |       5      |   16.000   |
  | 2021-07-28 |       5      |   17.000   |
</details>

<details>
  <summary>4. Выборка данных</summary>

  ```SQL
  SELECT DATEPART(month, PriceDate) AS month, MAX(ClosePrice) as max, MIN(ClosePrice) as min
  FROM dbo.tblClosePrice
  GROUP BY DATEPART(month, PriceDate)
  ```
  **Вывод:**
  | month  |    min    |    max    |
  | ------ | --------- | --------- |
  |    6   |  15.000   |  18.000   |
  |    7   |  16.000   |  17.000   |
</details>

[Источник](https://www.geeksforgeeks.org/how-to-group-by-day-date-hour-month-or-year-in-sql-server/)

# Задача 2


# Задача 3

# Задача 4

# Задача 5
Так как в данной задаче не указано, что именно нужно сделать, предполагается, что нужно определить количество замкнутых вагонов. Решение см. в [файле C#](Task5/Program.cs). Сам алгоритм начинается со слов "Начало алгоритма" в консоли и описан в статичном методе [Train.Steps()](Task5/Program.cs#L20)

## Текстовое описание решения
В списке у каждого действия (кроме 6.3.4, так как данное действие выполняется самим ЯП) есть ссылка на соответствующие действие в решение данной задачи на языке C#
1. Текущий вагон горит? Если да, то гасим свет, если нет, то зажигаем его [→](Task5/Program.cs#L26)
2. Запоминаем свет в текущем вагоне как "_целевой свет_" (**ЦС**) [→](Task5/Program.cs#L28)
3. Создаём счётчик вагонов. Предполагаем, что их всего 1. [→](Task5/Program.cs#L30)
4. Переходим к следующему вагону [→](Task5/Program.cs#L32)
5. Свет вагона **не** совпадает с ЦС: [→](Task5/Program.cs#L35)
   1. Переключаем свет в вагоне [→](Task5/Program.cs#L36)
   2. Увеличиваем счётчик поездов на 1 [→](Task5/Program.cs#L38)
6. Свет вагона совпадает с ЦС: [→](Task5/Program.cs#L40)
   1. Переключаем свет в текущем вагоне [→](Task5/Program.cs#L41)
   2. Возвращаемся назад на предполагаемое количество вагонов [→](Task5/Program.cs#L43)
   3. Свет вагона совпадает с ЦС [→](Task5/Program.cs#L45)
      1. Возвращаемся вперёд на предполагаемое количество вагонов [→](Task5/Program.cs#L47)
      2. Переключаем свет в текущем вагоне (которое равно ЦС) [→](Task5/Program.cs#L49)
      3. Увеличиваем счётчик поездов на 1 [→](Task5/Program.cs#L51)
      4. Возвращаемся к шагу _**4**_
   4. Свет вагона НЕ совпадает с ЦС [→](Task5/Program.cs#L53)
      1. Мы нашли количество вагонов. Предполагаемое количество вагонов и подтверждено [→](Task5/Program.cs#L56)

## Ограничения
- Минимум вагонов: **2** (включительно)
- При количестве вагонов больше 10 нумерация вагонов (косметическая) съезжает направо. Фикс данной проблемы предусматривает требует дополнительного кода, который автор посчитал нецелесообразным. Хотя алгоритм и будет работать, читать его вывод будет трудновато
## Сложность
Вычислено автором без всяких тестов (предположительная оценка на основе кода алгоритма)
- Лучший: **O(n)**
- Худший: **O(n²)**

## Примечания
- Используется _net8.0_ Для запуска можно просто ввести 2 команды: `cd Task5` и `dotnet run`
- Все переменные hardcoded в файле. Инструкции по их изменению:
  - Количество вагонов: можно изменить в строчке [114](Task5/Program.cs#L114)
  - Знаки включенного/выключенного света в вагоне: изменяется в строчке [81](Task5/Program.cs#L81)
## Пример вывода

```text
> Selecting length 7
         0   1   2   3   4   5   6
        [-] [+] [-] [+] [+] [+] [-] : Начало алгоритма
        [+] [+] [-] [+] [+] [+] [-] : Переключаем свет в текущем вагоне
        [+] [+] [-] [+] [+] [+] [-] : Решено, что все вагоны будут гореть
        [+] [+] [-] [+] [+] [+] [-] : Переход в следующий вагон
        [+] [+] [-] [+] [+] [+] [-] : Текущий вагон горит
        [+] [-] [-] [+] [+] [+] [-] : Переключаем свет в текущем вагоне
        [+] [-] [-] [+] [+] [+] [-] : Возвращаемся назад на 1 вагонов
        [+] [-] [-] [+] [+] [+] [-] : В текущем вагоне свет не изменился
        [+] [-] [-] [+] [+] [+] [-] : Возвращаемся вперёд на 1 вагонов
        [+] [+] [-] [+] [+] [+] [-] : Переключаем свет в текущем вагоне
        [+] [+] [-] [+] [+] [+] [-] : Увеличено количество вагонов на 1. Текущее: 2
        [+] [+] [-] [+] [+] [+] [-] : Переход в следующий вагон
        [+] [+] [-] [+] [+] [+] [-] : Текущий вагон потух
        [+] [+] [+] [+] [+] [+] [-] : Переключаем свет в текущем вагоне
        [+] [+] [+] [+] [+] [+] [-] : Увеличено количество вагонов на 1. Текущее: 3
        [+] [+] [+] [+] [+] [+] [-] : Переход в следующий вагон
        [+] [+] [+] [+] [+] [+] [-] : Текущий вагон горит
        [+] [+] [+] [-] [+] [+] [-] : Переключаем свет в текущем вагоне
        [+] [+] [+] [-] [+] [+] [-] : Возвращаемся назад на 3 вагонов
        [+] [+] [+] [-] [+] [+] [-] : В текущем вагоне свет не изменился
        [+] [+] [+] [-] [+] [+] [-] : Возвращаемся вперёд на 3 вагонов
        [+] [+] [+] [+] [+] [+] [-] : Переключаем свет в текущем вагоне
        [+] [+] [+] [+] [+] [+] [-] : Увеличено количество вагонов на 1. Текущее: 4
        [+] [+] [+] [+] [+] [+] [-] : Переход в следующий вагон
        [+] [+] [+] [+] [+] [+] [-] : Текущий вагон горит
        [+] [+] [+] [+] [-] [+] [-] : Переключаем свет в текущем вагоне
        [+] [+] [+] [+] [-] [+] [-] : Возвращаемся назад на 4 вагонов
        [+] [+] [+] [+] [-] [+] [-] : В текущем вагоне свет не изменился
        [+] [+] [+] [+] [-] [+] [-] : Возвращаемся вперёд на 4 вагонов
        [+] [+] [+] [+] [+] [+] [-] : Переключаем свет в текущем вагоне
        [+] [+] [+] [+] [+] [+] [-] : Увеличено количество вагонов на 1. Текущее: 5
        [+] [+] [+] [+] [+] [+] [-] : Переход в следующий вагон
        [+] [+] [+] [+] [+] [+] [-] : Текущий вагон горит
        [+] [+] [+] [+] [+] [-] [-] : Переключаем свет в текущем вагоне
        [+] [+] [+] [+] [+] [-] [-] : Возвращаемся назад на 5 вагонов
        [+] [+] [+] [+] [+] [-] [-] : В текущем вагоне свет не изменился
        [+] [+] [+] [+] [+] [-] [-] : Возвращаемся вперёд на 5 вагонов
        [+] [+] [+] [+] [+] [+] [-] : Переключаем свет в текущем вагоне
        [+] [+] [+] [+] [+] [+] [-] : Увеличено количество вагонов на 1. Текущее: 6
        [+] [+] [+] [+] [+] [+] [-] : Переход в следующий вагон
        [+] [+] [+] [+] [+] [+] [-] : Текущий вагон потух
        [+] [+] [+] [+] [+] [+] [+] : Переключаем свет в текущем вагоне
        [+] [+] [+] [+] [+] [+] [+] : Увеличено количество вагонов на 1. Текущее: 7
        [+] [+] [+] [+] [+] [+] [+] : Переход в следующий вагон
        [+] [+] [+] [+] [+] [+] [+] : Текущий вагон горит
        [-] [+] [+] [+] [+] [+] [+] : Переключаем свет в текущем вагоне
        [-] [+] [+] [+] [+] [+] [+] : Возвращаемся назад на 7 вагонов
        [-] [+] [+] [+] [+] [+] [+] : В текущем вагоне свет изменился => мы сделали полный круг за 7 вагонов
> Finished. Answer: 7
```
